post:
  operationId: PostSignin
  summary: Create a user session.
  description: |
    Authenticates [Basic authentication credentials](#section/Authentication/BasicAuthentication)
    for a [user]({{% INFLUXDB_DOCS_URL %}}/reference/glossary/#user),
    and then, if successful, generates a user session.

    To authenticate a user, pass the HTTP `Authorization` header with the
    `Basic` scheme and the base64-encoded username and password--for example:

    ```sh
    Authorization: Basic USERNAME:PASSWORD
    ```

    In InfluxDB Cloud, the username is the email address the user signed up with.

    _Note that many HTTP clients provide a Basic authentication option that
    accepts the `USERNAME:PASSWORD` syntax and encodes the credentials before
    sending the request.
    To learn more about HTTP authentication, see
    [Mozilla Developer Network (MDN) Web Docs, HTTP authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)._

    If authentication is successful, InfluxDB creates a new session for the user
    and then returns the session cookie in the `Set-Cookie` response header.
    User sessions exist only in memory.
    They expire within ten minutes and during restarts of the InfluxDB instance.

    #### User sessions with authorizations

    - In InfluxDB Cloud, a user session inherits all the user's permissions for
      the organization.
    - In InfluxDB OSS, a user session inherits all the user's permissions for all
      the organizations that the user belongs to.

    #### Related endpoints

    - [Signout](#tag/Signout)

  tags:
    - Signin
  security:
    - BasicAuthentication: []
  parameters:
    - $ref: "../parameters/TraceSpan.yml"
  responses:
    "204":
      description: |
        Success.
        The user is authenticated.
        The `Set-Cookie` response header contains the session cookie.
    "401":
      description: |
        Unauthorized.
        This error may be caused by one of the following problems:
          - The user doesn't have access.
          - The user passed incorrect credentials in the request.
          - The credentials are formatted incorrectly in the request.
      content:
        application/json:
          schema:
            $ref: "../schemas/Error.yml"
    "403":
      description: Forbidden. The user account is disabled.
      content:
        application/json:
          schema:
            $ref: "../schemas/Error.yml"
    default:
      description: Unsuccessful authentication.
      content:
        application/json:
          schema:
            $ref: "../schemas/Error.yml"
  x-codeSamples:
    - lang: Shell
      label: "cURL: signin with --user option encoding"
      source: |
        curl --request POST http://localhost:8086/api/v2/signin \
             --user "USERNAME:PASSWORD"
