get:
  operationId: GetBucketsIDOwners
  tags:
    - Buckets
  summary: List all owners of a bucket
  description: |
    Retrieves a list of all owners for a bucket.

    InfluxDB owners have permission to delete resources and other users from
    the resource.

    #### Related guides

    - [Manage users]({{% INFLUXDB_DOCS_URL %}}/users/)
  parameters:
    - $ref: "../parameters/TraceSpan.yml"
    - in: path
      name: bucketID
      schema:
        type: string
      required: true
      description: |
        The ID of the bucket to retrieve owners for.
  responses:
    "200":
      description: |
        Success.
        The response body contains a list of all owners for the bucket.
      content:
        application/json:
          schema:
            $ref: "../schemas/ResourceOwners.yml"
          examples:
            $ref: "../responses/example-responses/GetBucketsIDOwnersSuccessResponse.yml"
    "400":
      $ref: "../responses/BadRequestError.yml"
    "401":
      $ref: "../responses/AuthorizationError.yml"
    "404":
      $ref: "../responses/ResourceNotFoundError.yml"
    "500":
      $ref: "../responses/InternalServerError.yml"
    default:
      description: Unexpected error
      content:
        application/json:
          schema:
            $ref: "../schemas/Error.yml"
post:
  operationId: PostBucketsIDOwners
  tags:
    - Buckets
  summary: Add an owner to a bucket
  description: |
    Assigns a bucket `owner` role to a user and returns the new owner detail.

    Use this endpoint to create a _resource owner_ for the bucket.
    A bucket owner can delete the bucket and remove other users' permissions
    for the bucket.

    #### InfluxDB Cloud

    - InfluxDB Cloud has only one permission level for users: `owner`.

    #### Related guides

    - [Manage users]({{% INFLUXDB_DOCS_URL %}}/users/)
  parameters:
    - $ref: "../parameters/TraceSpan.yml"
    - in: path
      name: bucketID
      schema:
        type: string
      required: true
      description: |
        The ID of the bucket to add an owner for.
  requestBody:
    description: A user to add as an owner for the bucket.
    required: true
    content:
      application/json:
        schema:
          $ref: "../schemas/AddResourceMemberRequestBody.yml"
        examples:
          $ref: "../responses/example-responses/PostBucketsIDOwnersSuccessResponse.yml"
  responses:
    "201":
      description: |
        Created.
        The bucket `owner` role is assigned to the user.
        The response body contains the resource owner with
        role and user detail.
      content:
        application/json:
          schema:
            $ref: "../schemas/ResourceOwner.yml"
    "400":
      $ref: "../responses/BadRequestError.yml"
      examples:
        invalidRequest:
          summary: The user `id` is missing from the request body.
          value: {
            "code": "invalid",
            "message": "user id missing or invalid"
          }
    "401":
      $ref: "../responses/AuthorizationError.yml"
    "404":
      $ref: "../responses/ResourceNotFoundError.yml"
    "500":
      $ref: "../responses/InternalServerError.yml"
    default:
      description: Unexpected error
      content:
        application/json:
          schema:
            $ref: "../schemas/Error.yml"
  x-codeSamples:
    - lang: Shell
      label: cURL
      source: |
        curl --request POST "http://localhost:8086/api/v2/buckets/BUCKET_ID/owners \
          --header "Authorization: Token INFLUX_API_TOKEN" \
          --header "Accept: application/json" \
          --header "Content-Type: application/json" \
          --data '{
              "id": "09cfb87051cbe000"
            }
