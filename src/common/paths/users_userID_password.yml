post:
  operationId: PostUsersIDPassword
  tags:
    - Security and access endpoints
    - Users
  summary: Update a password
  description: |
    Updates a user password.

    #### InfluxDB Cloud

    - Doesn't support changing user passwords through the API.
      Use the InfluxDB Cloud UI to update a password.

    #### Related guides

    - [InfluxDB Cloud - Change your password](https://docs.influxdata.com/influxdb/cloud/account-management/change-password/).
    - [InfluxDB OSS - Change your password](https://docs.influxdata.com/influxdb/latest/users/change-password/).
  security:
    - BasicAuthentication: []
  parameters:
    - $ref: '../parameters/TraceSpan.yml'
    - in: path
      name: userID
      schema:
        type: string
      required: true
      description: The ID of the user to retrieve.
  requestBody:
    description: New password
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas/PasswordResetBody.yml'
  responses:
    '204':
      description: Password successfully updated
    '400':
      description: |
        Bad request.

        #### InfluxDB Cloud

        - Doesn't support changing passwords through the API; always responds with this status.
      content:
        application/json:
          examples:
            updatePasswordNotAllowed:
               summary: Cloud API can't update passwords
               value: {
                "code": "invalid",
                "message": "passwords cannot be changed through the InfluxDB Cloud API"
               }
    default:
      description: Unsuccessful authentication
      content:
        application/json:
          schema:
            $ref: '../schemas/Error.yml'
