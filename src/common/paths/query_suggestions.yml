get:
  operationId: GetQuerySuggestions
  tags:
    - Query
  summary: Retrieve all query functions
  description: |
    Returns a list of all query functions.

    Use this endpoint to retrieve a list of all the possible query functions
    that InfluxData currently supports. The endpoint additionally exposes helper
    functions that are not meant to be used while building a query such as
    [`_sortLimit()`](https://github.com/influxdata/flux/blob/a768568a4cbeb299433ee31a059e599d290fcfbf/libflux/flux/benches/everything.flux#L2247)

    #### Limitations

    - The endpoint does not return all of the functions in the Flux standard
    library. It only returns query functions.

    - Using `/api/v2/query/suggestions/` with cURL will result in a HTTP `301
    Moved Permanently` status code. Please use `/api/v2/query/suggestions`.

    #### Related Guides

    - [List of all Flux functions including query functions.]({{% INFLUXDB_DOCS_URL %}}/flux/v0.x/stdlib/all-functions/)
  parameters:
    - $ref: "../parameters/TraceSpan.yml"
  responses:
    "200":
      description: |
        Success.
        The response body contains a list of query functions.
      content:
        application/json:
          schema:
            $ref: "../schemas/FluxSuggestions.yml"
          examples:
            $ref: "../schemas/QuerySuggestionsSuccessResponse.yml"
    "301":
      description: |
        Moved Permanently.
        InfluxData has moved the url of the endpoint.
        Use `/api/v2/query/suggestions`.
      content:
        text/html:
          schema:
            $ref: "../schemas/MovedPermanently.yml"
          examples:
            movedPermanently:
              summary: Invalid url
              description: |
                The url has been permanently moved. Use `/api/v2/query/suggestions`.
              value : |
              `<a href="/api/v2/query/suggestions?orgID=INFLUX_ORG_ID">Moved Permanently</a>.`
  x-codeSamples:
    - lang: Shell
      label: cURL
      source: |
        curl --request GET 'INFLUX_URL/api/v2/query/suggestions/' \
        --header 'Accept: application/json \
        --header 'Authorization: Token INFLUX_TOKEN'
    default:
      description: Internal server error.
      content:
        application/json:
          schema:
            $ref: "../schemas/Error.yml"
